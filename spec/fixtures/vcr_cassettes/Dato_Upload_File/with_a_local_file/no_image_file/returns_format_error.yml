---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"YTWHICLO@example.com","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.5
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"653b764e71fe82bfaf8d131fdaa46e86"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - dc045751-43b1-45c0-b3d8-b592676d0347
      X-Runtime:
      - '0.245372'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMklqb3hM
        Q0pwSWpveE1UUTNNaXdpWnlJNklqSXdNVGt0TVRBdE1EbFVNVGM2TWprNk16
        Y3VOVFEzS3pBeU9qQXdJbjAuTUhOeERLb2RCTnVxcm5NUXBkTG43UE54ZXEz
        UjJBSlZqZmdaeEZ5TVJGWSIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25z
        aGlwcyI6eyJhY2NvdW50Ijp7ImRhdGEiOnsiaWQiOiIxMTQ3MiIsInR5cGUi
        OiJhY2NvdW50In19fX0sImluY2x1ZGVkIjpbeyJpZCI6IjExNDcyIiwidHlw
        ZSI6ImFjY291bnQiLCJhdHRyaWJ1dGVzIjp7ImVtYWlsIjoiWVRXSElDTE9A
        ZXhhbXBsZS5jb20iLCJmaXJzdF9uYW1lIjpudWxsLCJsYXN0X25hbWUiOm51
        bGwsImNvbXBhbnkiOiJEYXRvQ01TIiwicHJvdmlzaW9uaW5nXzJmYV91cmki
        OiJvdHBhdXRoOi8vdG90cC9EYXRvQ01TOllUV0hJQ0xPQGV4YW1wbGUuY29t
        P3NlY3JldD1PNDJORlpMM1JSU1ZUUDNRSTdZS0lTQ0o0VlU2M0pNUSZpc3N1
        ZXI9RGF0b0NNUyIsImlzXzJmYV9hY3RpdmUiOmZhbHNlfX1dfQ==
    http_version: 
  recorded_at: Wed, 09 Oct 2019 15:29:37 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJhbGciOiJIUzI1NiJ9.eyJ2IjoxLCJpIjoxMTQ3MiwiZyI6IjIwMTktMTAtMDlUMTc6Mjk6MzcuNTQ3KzAyOjAwIn0.MHNxDKodBNuqrnMQpdLn7PNxeq3R2AJVjfgZxFyMRFY
      User-Agent:
      - ruby-client v0.7.5
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"df0c79cf0265746ec3d613df91143226"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f4f72270-5e52-426d-a714-9b8f9f6fdee1
      X-Runtime:
      - '0.278053'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTY5MDYiLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTEyNyIsImxhc3RfZGF0YV9jaGFu
        Z2VfYXQiOiIyMDE5LTEwLTA5VDE1OjI5OjM3LjgxM1oiLCJub3RlcyI6bnVs
        bCwiYWNjZXNzX3Rva2VuIjoiZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMklq
        b3hMQ0p6SWpveE5qa3dOaXdpYVNJNk1URTBOeklzSW5RaU9pSmhJaXdpWnlJ
        NklqSXdNVGt0TVRBdE1EbFVNVGM2TWprNk16Y3VPREUzS3pBeU9qQXdJbjAu
        ZS1GbVVXaFI4QzBfeG9KV0c3bGxaUVhwUmZsaFZTOTZOU0MtazYyeS1NUSIs
        ImludGVybmFsX2RvbWFpbiI6InRlc3Qtc2l0ZS0xMjcuYWRtaW4uZGF0b2Nt
        cy5jb20iLCJjcmVhdGVkX2F0IjoiMjAxOS0xMC0wOVQxNToyOTozNy43NzZa
        IiwicmVhZHdyaXRlX3Rva2VuIjoiNTY1NDRmMWI2MzdjMjVlYmM1MGYxYWU4
        Yjk3NDhmIiwicmVhZG9ubHlfdG9rZW4iOiJjNTJmYzBkYWVmYjA0MmNkYzE2
        ZjFiMGEzOTRkMDYiLCJkZWFjdGl2YXRlZCI6ZmFsc2V9LCJyZWxhdGlvbnNo
        aXBzIjp7ImFjdGl2ZV9zdWJzY3JpcHRpb24iOnsiZGF0YSI6eyJpZCI6IjE4
        Njg1IiwidHlwZSI6InN1YnNjcmlwdGlvbiJ9fSwiYWN0aXZlX3BsYW4iOnsi
        ZGF0YSI6eyJpZCI6IjEiLCJ0eXBlIjoicGxhbiJ9fSwidXNhZ2UiOnsiZGF0
        YSI6eyJpZCI6IjEtMC0wLTAtMC0wLTAtMTY5MDYiLCJ0eXBlIjoic3Vic2Ny
        aXB0aW9uX2NvbXBhdGliaWxpdHkifX0sInRyYW5zZmVyIjp7ImRhdGEiOm51
        bGx9LCJvd25lciI6eyJkYXRhIjp7ImlkIjoiMTE0NzIiLCJ0eXBlIjoiYWNj
        b3VudCJ9fX19fQ==
    http_version: 
  recorded_at: Wed, 09 Oct 2019 15:29:37 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload_request","attributes":{"filename":"file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 56544f1b637c25ebc50f1ae8b9748f
      User-Agent:
      - ruby-client v0.7.5
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"422d33a822b17da85d6a177e86705206"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - cae60011-e0d3-4753-87f9-0d68018e843f
      X-Runtime:
      - '0.043827'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiLzE2OTA2LzE1NzA2MzQ5NzctZmlsZS50eHQiLCJ0
        eXBlIjoidXBsb2FkX3JlcXVlc3QiLCJhdHRyaWJ1dGVzIjp7InVybCI6Imh0
        dHBzOi8vZGF0by1pbWFnZXMuczMuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20v
        MTY5MDYvMTU3MDYzNDk3Ny1maWxlLnR4dD94LWFtei1hY2w9cHVibGljLXJl
        YWQmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3Jl
        ZGVudGlhbD1BS0lBSU5YUVgyWk5YTkVCQ1ZKQSUyRjIwMTkxMDA5JTJGZXUt
        d2VzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDE5MTAw
        OVQxNTI5MzdaJlgtQW16LUV4cGlyZXM9OTAwJlgtQW16LVNpZ25lZEhlYWRl
        cnM9aG9zdCZYLUFtei1TaWduYXR1cmU9NjlhYmYzNGRmOWYzNzJhMGY0NzMz
        MGI2YzE0YTZiM2VhNDZlZDE5N2NjYjk4ZTYzY2I0OGVlZGEyY2QyOTFiMSJ9
        fX0=
    http_version: 
  recorded_at: Wed, 09 Oct 2019 15:29:37 GMT
- request:
    method: put
    uri: https://dato-images.s3.eu-west-1.amazonaws.com/16906/1570634977-file.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA/20191009/eu-west-1/s3/aws4_request&X-Amz-Date=20191009T152937Z&X-Amz-Expires=900&X-Amz-Signature=69abf34df9f372a0f47330b6c14a6b3ea46ed197ccb98e63cb48eeda2cd291b1&X-Amz-SignedHeaders=host&x-amz-acl=public-read
    body:
      encoding: UTF-8
      string: 'Hi there!

'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - dato-images.s3.eu-west-1.amazonaws.com
      Content-Type:
      - text/plain
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - 4tzvoI2FbFKDF9WJMGahaaJd8ertrGTsIO+m6vncz+t08rNGMD/VBP7Fv4TwVrbbg1iaplE9goM=
      X-Amz-Request-Id:
      - B154E62901F0E2AD
      Date:
      - Wed, 09 Oct 2019 15:29:39 GMT
      Etag:
      - '"2b87e29fca6ee7f1df6c1a76cb58e101"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Wed, 09 Oct 2019 15:29:38 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/uploads
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload","attributes":{"path":"/16906/1570634977-file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 56544f1b637c25ebc50f1ae8b9748f
      User-Agent:
      - ruby-client v0.7.5
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '26'
      Etag:
      - W/"c8f0dfc5740d23f6e5d8474ffae91dc0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9f961645-16c4-4bb1-b09d-1e3d5246d840
      X-Runtime:
      - '0.296262'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiOTA5MjcyIiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTY5MDYvMTU3MDYzNDk3Ny1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImF1dGhvciI6bnVsbCwibm90ZXMiOm51bGwsImNvcHlyaWdodCI6
        bnVsbCwiZGVmYXVsdF9maWVsZF9tZXRhZGF0YSI6eyJlbiI6eyJhbHQiOm51
        bGwsInRpdGxlIjpudWxsLCJjdXN0b21fZGF0YSI6e319fSwiaXNfaW1hZ2Ui
        OmZhbHNlLCJjcmVhdGVkX2F0IjoiMjAxOS0xMC0wOVQxNToyOTozOC40NDNa
        IiwidXJsIjoiaHR0cHM6Ly93d3cuZGF0b2Ntcy1hc3NldHMuY29tLzE2OTA2
        LzE1NzA2MzQ5NzctZmlsZS50eHQiLCJ0YWdzIjpbXSwiYmFzZW5hbWUiOiJm
        aWxlIn19fQ==
    http_version: 
  recorded_at: Wed, 09 Oct 2019 15:29:38 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/uploads/909272
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 56544f1b637c25ebc50f1ae8b9748f
      User-Agent:
      - ruby-client v0.7.5
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '25'
      Etag:
      - W/"c8f0dfc5740d23f6e5d8474ffae91dc0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 7ed2b548-6a1a-406e-aff4-8d532d0a177d
      X-Runtime:
      - '0.024405'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiOTA5MjcyIiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTY5MDYvMTU3MDYzNDk3Ny1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImF1dGhvciI6bnVsbCwibm90ZXMiOm51bGwsImNvcHlyaWdodCI6
        bnVsbCwiZGVmYXVsdF9maWVsZF9tZXRhZGF0YSI6eyJlbiI6eyJhbHQiOm51
        bGwsInRpdGxlIjpudWxsLCJjdXN0b21fZGF0YSI6e319fSwiaXNfaW1hZ2Ui
        OmZhbHNlLCJjcmVhdGVkX2F0IjoiMjAxOS0xMC0wOVQxNToyOTozOC40NDNa
        IiwidXJsIjoiaHR0cHM6Ly93d3cuZGF0b2Ntcy1hc3NldHMuY29tLzE2OTA2
        LzE1NzA2MzQ5NzctZmlsZS50eHQiLCJ0YWdzIjpbXSwiYmFzZW5hbWUiOiJm
        aWxlIn19fQ==
    http_version: 
  recorded_at: Wed, 09 Oct 2019 15:29:38 GMT
recorded_with: VCR 5.0.0
